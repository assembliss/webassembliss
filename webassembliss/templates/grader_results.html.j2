{% extends "base.html.j2" %}
{% block title %} - Grader Results{% endblock %}
{% block content %}
  <div class="container">
    <div class="p-5 bg-body-tertiary rounded-3">
      <h1 class="text-center text-body-emphasis">Grader Results</h1>
      <div class="text-center">
        <button type="submit" class="btn btn-danger" onclick='download_file("test.json", "[]", "application/json")'>Download file for submission</button>
      </div>

      <h2>Total Score: {{ "%.2f"| format(results.submission.total * 100) }}</h2>
      

      <h2>Submission Info</h2>
      <h5>Submission Time: {{ results.submission.timestamp }}</h5>
      <h5>User Info: {{ results.submission.name }} ({{ results.submission.ID }})</h5>
      <h5>Project Name: {{ results.submission.project_name }}</h5>
      <h5>Must pass all test cases for a non-zero grade: {{ results.submission.must_pass_all_tests }}</h5>

      
      <h2>Accuracy</h2>
      <h5>Weight of this category: {{ "%.2f"| format(results.submission.weights.accuracy * 100) }}%</h5>
      <h5>Your score on this category: {{ "%.2f"| format(results.submission.scores.accuracy * 100) }}</h5>
      
      
      <h2>Documentation</h2>
      <h5>Weight of this category: {{ "%.2f"| format(results.submission.weights.documentation * 100) }}%</h5>
      <h5>Your score on this category: {{ "%.2f"| format(results.submission.scores.documentation * 100) }}</h5>
      
      
      <h2>Source Efficiency</h2>
      <h5>Weight of this category: {{ "%.2f"| format(results.submission.weights.source_efficiency * 100) }}%</h5>
      <h5>Your score on this category: {{ "%.2f"| format(results.submission.scores.source_efficiency * 100) }}</h5>
      <h5>Instructions written: {{ results.submission.line_count }}</h5>

      
      <h2>Execution Efficiency</h2>
      <h5>Weight of this category: {{ "%.2f"| format(results.submission.weights.exec_efficiency * 100) }}%</h5>
      <h5>Your score on this category: {{ "%.2f"| format(results.submission.scores.exec_efficiency * 100) }}</h5>
      <h5>Instructions executed: {{ results.submission.agg_exec_count }}</h5>
      

      <h2>Test Cases</h2>
      {% for i in range(results.tests|length) %}
        {{ i+1 }} -> {{ results.tests[i] }}
        <br/><br/>
      {% endfor %}

    </div>
  </div>
{% endblock %}